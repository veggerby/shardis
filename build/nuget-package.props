<Project>

    <!-- Framework and Language settings -->
    <PropertyGroup>
        <!-- Central multi-targeting for all packable libraries (modules may override if needed) -->
        <TargetFrameworks Condition="'$(TargetFrameworks)' == ''">net10.0;net9.0;net8.0</TargetFrameworks>
    </PropertyGroup>

    <!-- Repository & Source Metadata -->
    <PropertyGroup>
        <RepositoryUrl>https://github.com/veggerby/shardis</RepositoryUrl>
        <RepositoryType>git</RepositoryType>
        <PublishRepositoryUrl>true</PublishRepositoryUrl>
        <Authors>Jesper Veggerby</Authors>
    </PropertyGroup>

    <!-- Build Determinism & SourceLink -->
    <PropertyGroup>
        <EmbedUntrackedSources>true</EmbedUntrackedSources>
        <Deterministic>true</Deterministic>
        <ContinuousIntegrationBuild Condition="'$(GITHUB_ACTIONS)' == 'true'">true</ContinuousIntegrationBuild>
        <AssemblyInformationalVersion>$(Version)</AssemblyInformationalVersion>
        <NeutralLanguage>en</NeutralLanguage>
    </PropertyGroup>

    <!-- Analysis & Documentation -->
    <PropertyGroup>
        <EnableNETAnalyzers>true</EnableNETAnalyzers>
        <AnalysisLevel>latest</AnalysisLevel>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
    </PropertyGroup>

    <!-- Default Packaging Properties -->
    <PropertyGroup>
        <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageProjectUrl>https://github.com/veggerby/shardis</PackageProjectUrl>
        <Company>Shardis Project</Company>
        <PackageIcon Condition="Exists('$(DocsFolder)\icon.png')">icon.png</PackageIcon>
        <PackageReadmeFile Condition="Exists('README.md')">README.md</PackageReadmeFile>
        <SymbolPackageFormat>snupkg</SymbolPackageFormat>
        <IncludeSymbols>true</IncludeSymbols>
        <EnablePackageValidation>true</EnablePackageValidation>
    </PropertyGroup>

    <!-- Additional Files -->
    <ItemGroup>
        <None Include="$(DocsFolder)\icon.png" Pack="true" PackagePath="/" Condition="Exists('$(DocsFolder)\icon.png')" />
        <None Include="README.md" Pack="true" PackagePath="/" Condition="Exists('README.md')" />
    </ItemGroup>

    <ItemGroup>
        <!-- SourceLink reference (version managed centrally) -->
        <PackageReference Include="Microsoft.SourceLink.GitHub" PrivateAssets="All" />
    </ItemGroup>

</Project>
